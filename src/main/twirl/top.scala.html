@import io.github.bamos.ReadmeAnalysis
@(numTop: Int, repos: Seq[(String,Int,ReadmeAnalysis)],
  numTotal: Int, numChecked: Int, numBroken: Int)

@base { } {
  <div class="container">
    <div class="hero-unit">
      <p>
        <a href="https://github.com/bamos/girl">girl</a> is a
        <b>Gi</b>thub <b>R</b>eadme <b>L</b>ink Checker.
        The following list shows the broken links from the READMEs in the
        <a href="https://github.com/search?q=stars%3A>1">top @(numTop)
          GitHub repositories</a>
        by number of stars.
        Results are cached for 24 hours.
      </p>

      <p>
        "Total Links" and "Checked Links" may differ below because
        only the first 50 links in each repository will be checked.
        To surpass this limit, please run a local instance.
      </p>

      <p>
        <a href="https://github.com/bamos/girl">girl</a> is completely
        open source and you can alternatively run
        a local instance by following the
        instructions in the README.
      </p>

      <div id="footer">
        <center>
          <p>
            Crafted by <a href="http://github.com/bamos">Brandon Amos</a> |
            <a href="http://github.com/bamos/girl">Open-sourced on GitHub</a>
          </p>

          <p>
            <a href="http://twitter.com/share" class="twitter-share-button"
               data-count="none" data-via="brandondamos"
               data-text="girl: Check your GitHub READMEs for broken links."
               data-url="https://github.com/bamos/girl">Tweet</a>
            <a href="http://twitter.com/brandondamos" class="twitter-follow-button"
               data-show-count="false">Follow &#64;brandondamos</a>
          </p>
          <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
        </center>
      </div>

      @(numTotal) Total Links |
      @(numChecked) Checked Links |
      @(numBroken) Broken Links

      @for((repoName,stars,repoAnalysis)<-repos) {
        <h4><a href="https://github.com/@(repoName)">@(repoName)</a> | @(stars) Stars </h4>
        <ul>
        @for((link,reason)<-repoAnalysis.brokenLinks) {
          <li><a href="@(link)">Broken Link: @(link)</a>
            <ul><li>Reason: @reason</li></ul>
          </li>
        }
        </ul>
      }
    </div>
  </div>
}
